@startuml clases

class main{
    + void main()
}

class AlfaYBeta{
    + enum Estado
    - boolean iniciado
    - long alfa
    - long beta
    - long inicio
    - boolean sinRestriccion
    + AlfaYBeta(long alfa, long beta)
    + AlfaYBeta()
    + setAlfaYBeta(long alfa, long beta)
    + setInicio(long inicio)
    + long getInicio()
    + long getBeta()
    + long getAlfa()
    + iniciar()
    + Estado verificar()
    + long getTiempoExcedido()
}

class AtencionAgente{
    - NumeroDeAgente agente
    - MonitorInterface monitor
    + AtencionAgente(NumeroDeAgente agente, MonitorInterface monitor)
    + void run()
    + String toString()
}

class Cancelacion{
    - MonitorInterface monitor
    + Cancelacion(MonitorInterface monitor)
    + void run()
    + String toString()
}

class ConfirmacionYPago{
    - MonitorInterface monitor
    + ConfirmacionYPago(MonitorInterface monitor)
    + void run()
    + String toString()
}

class EntradaDeClientes{
    - MonitorInterface monitor
    + EntradaDeClientes(MonitorInterface monitor)
    + void run()
    + String toString()
}

class Log{
    - long tiempo
    - FileWriter file
    - RedDePetri redDePetri
    - PrintWriter pw
    + Log(RedDePetri redDePetri)
    + int contarTransiciones(String cadena, String transicion)
    - void imprimirTransiciones()
    + void run()
    - void comprobarSecuencia()
    - String detectPythonInterpreter()
}

class Monitor{
    - Monitor m
    - Semaphore mutex
    - HashMap<Integer,Object> llaves
    - RedDePetri redDePetri
    + Politica politica
    - ArrayList<AlfaYBeta> alfaYBetas
    - String betaErrors
    - Integer politicaAdmite
    - Monitor(RedDePetri redDePetri, Politica politica, ArrayList<AlfaYBeta> alfaYBetas)
    + Monitor getInstance()
    + Monitor getInstance(RedDePetri redDePetri, Politica politica, ArrayList<AlfaYBeta> alfaYBetas)
    - Object getLlave(int transition)
    + String getBetaErrors()
    + boolean fireTransition(int t)
    - boolean politicaPermite(int t)
    - void dormirHilo(int t) throws InterruptedException
    - void disparar(int t)
    - void actualizarAlfaYBeta()
    - void notificarATodos()
    - void despertarHilos()
    - void notificar(int t)
}

interface MonitorInterface{
    {abstract} boolean fireTransition(int transicion)
}

class NumeroDeAgente{}

class OutTHreadFactory{}

class Politica{}

class PoliticaAgenciaVuelo{}

class RedPetri{}

@enduml